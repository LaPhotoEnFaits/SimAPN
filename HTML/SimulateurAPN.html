<meta charset="UTF-8" />

<div id='infoNavigateur' class='classInfoNavigateur'></div>

<div class='simulateur' id='vueSimulateur'>

	<div id='infoUtilisateur' class='classInfoUtilisateur'></div>

	<div id='Vues' style='display:none;'>

		<div id='titre' class='classTitre'></div>

		<div id='barreDeTache' class='classBarreDeTache'>
			<table class='tableauBarreDeTache'>
				<tr>
					<td>
						<table class='tableAvecSld'>
							<tr>
								<td><canvas id='cvsPetiteFenetre'></canvas></td>
								<td><input type='range' id='sldTailleFenetres' /></td>
								<td><canvas id='cvsGrandeFenetre'></canvas></td>
							</tr>
						</table>
					</td>
					
					<td id='btnVueReglagesScene' class='classBtnReglage'></td>			
					<td id='btnVueReglagesPhotographe' class='classBtnReglage'></td>
					<td id='btnVueReglagesObjectif' class='classBtnReglage'></td>
					<td id='btnVueReglagesAPN' class='classBtnReglage'></td>
					<td id='btnVueHistogrammes' class='classBtnReglage'></td>


				</tr>
			</table>
		</div>

		<div id='vuePhotoCachee' style='display:none;'>
			<canvas id='cvsPhotoCachee'></canvas>
		</div>

		<span id='viseur' class='classViseur'>

			<div id='vuePhoto'>
				<canvas id='cvsPhotoCollimateurs' class='classCvsPhoto' ></canvas>
				<canvas id='cvsPhotoBruit' class='classCvsPhoto' ></canvas>
				<canvas id='cvsPhotoPlan0' class='classCvsPhoto' ></canvas>
				<canvas id='cvsPhotoPlan1' class='classCvsPhoto' ></canvas>
				<canvas id='cvsPhotoPlan2' class='classCvsPhoto' ></canvas>
				<canvas id='cvsPhotoPlan3' class='classCvsPhoto' ></canvas>
				<canvas id='cvsPhotoPlan4' class='classCvsPhoto' ></canvas>						
				<canvas id='cvsPhotoPourPositionRelative' ></canvas>
			</div>

			<span id='btnVuePhoto' class='classBtnReglage'></span>
			<span id='btnCloseVuePhoto' class='classBtnClose'></span>

			<span id='btnVueReglagesVuePhoto' class='classBtnReglage'></span>

			<div id='vueCurseurExpo' class='classCurseurExposition'>
				<canvas id='cvsCurseurExposition'></canvas>
			</div>
			<span id='btnVueCurseurExpo' class='classBtnReglage'></span>
			<span id='btnCloseVueCurseurExpo' class='classBtnClose'></span>
		</span>	

		<span id='vueHistogrammes' class='classVueHistogrammes'>
			<span id='btnCloseVueHistogrammes' class='classBtnClose'></span>
			<canvas id='cvsHistogrammes' ></canvas>
		</span>

		<span id='vueReglagesRapides' class='classReglagesRapides'>

			<table class='tableAvecSld'>
				<tr id='ensembleSldOuverture'>
					<td><span id='nomSldOuverture' class='nomDeParametre'></span></td>
					<td><input type='range' id='sldOuverture' /></td>
					<td><span id='outputSldOuverture'></span></td>
				</tr>
				
				<tr id='ensembleSldVitesse'>
					<td><span id='nomSldVitesse' class='nomDeParametre'></span></td>
					<td><input type='range' id='sldVitesse' /></td>
					<td><span id='outputSldVitesse'></span></td>
				</tr>

				<tr id='ensembleSldISO'>
					<td><span id='nomSldISO' class='nomDeParametre'></span></td>
					<td><input type='range' id='sldISO' /></td>
					<td><span id='outputSldISO'></span></td>
				</tr>

				<tr id='ensembleSldFocale'>
					<td><span id='nomSldFocale' class='nomDeParametre'></span></td>
					<td><input type='range' id='sldFocale' /></td>
					<td><span id='outputSldFocale'></span></td>
				</tr>

			</table>
			<span id='btnVueReglagesRapides' class='classBtnReglage'></span>
			<span id='btnCloseVueReglagesRapides' class='classBtnClose'></span>
		</span>

		<span id='vueReglagesVuePhoto' class='classReglagesVue'>

			<span id='btnCloseVueReglagesVuePhoto' class='classBtnReglage'></span>

			<table>

				<tr id='ensembleChkExpo'>
					<td><input type="checkbox" id="chkVuePhotoExpo" /></td>
					<td><span id='nomChkVuePhotoExpo' class='nomDeParametre'></span></td>
				</tr>
				
				<tr id='ensembleChkFlouDeMap'>
					<td><input type="checkbox" id="chkVuePhotoFlouMap" /></td>
					<td><span id='nomChkVuePhotoFlouMap' class='nomDeParametre'></span></td>
				</tr>
				
				<tr id='ensembleChkFlouDeBouge'>
					<td><input type="checkbox" id="chkVuePhotoFlouBouge" /></td>
					<td><span id='nomChkVuePhotoFlouBouge' class='nomDeParametre'></span></td>
				</tr>
				
				<tr id='ensembleChkBruit'>
					<td><input type="checkbox" id="chkVuePhotoBruit" /></td>
					<td><span id='nomChkVuePhotoBruit' class='nomDeParametre'></span></td>
				</tr>
								
			</table>
		</span>

		<span id='vueReglagesAPN' class='classReglagesVue'>
			<span id='btnCloseVueReglagesAPN' class='classBtnReglage'></span>

			<table >
				<tr id='ensembleLstTypeDeCapteur'>
					<td><span id='nomLstTypeDeCapteur' class='nomDeParametre'></span></td>
					<td>   
						<select id="lstTypeDeCapteur" class="cssLst">
							<option value="1/3.2">1/3.2in (smartphone)</option>
							<option value="1/2.3">1/2.3in (compact)</option>
							<option value="1/1.7">1/1.7in (compact)</option>
							<option value="2/3">2/3in (smartphone)</option>
							<option value="CX">CX (compact)</option>
							<option value="4/3">4/3in (reflex 4/3)</option>
							<option value="aps-c">aps-c (reflex)</option>
							<option value="aps-h" >aps-h (reflex Canon)</option>
							<option value="full-frame">full-frame (reflex)</option>
						</select>
					</td>
				</tr>

				<tr id='ensembleInpDefinitionCapteur'>
					<td><span id='nomInpDefinitionCapteur' class='nomDeParametre'></span></td>
					<td><input id='inpDefinitionCapteur' size='3' class='cssInp' /></td>
					<td><span id='outputInpDefinitionCapteur' ></span></td>
				</tr>

			</table>

		</span>

		<span id='vueReglagesObjectif' class='classReglagesVue'>
			<span id='btnCloseVueReglagesObjectif' class='classBtnClose'></span>

			<table id='ensembleLstAntiVibration'>
				<tr>
					<td><span id='nomLstAntiVibration' class='nomDeParametre'></span></td>
					<td>          
						<select id="lstAntiVibration" class="cssLst">
				            <option value=1 ></option>
            				<option value=0 ></option>
			        	</select>
			        </td>
				</tr>
			</table>
		</span>

		<span id='vueReglagesPhotographe' class='classReglagesVue'>
			<span id='btnCloseVueReglagesPhotographe' class='classBtnClose'></span>

			<table id='ensembleLstTremblements'>
				<tr>
					<td><span id='nomLstLstTremblements' class='nomDeParametre'></span></td>
					<td>          
						<select id="lstTremblements" class="cssLst">
				          <option value=0.5></option>
				          <option value=1.0></option>
				          <option value=1.5></option>
				          <option value=2></option>
			        	</select>
			        </td>
					<td><span id='outputLstTremblements'></span></td>
				</tr>
			</table>

			<table id='ensembleLstCdC'>
				<tr>
					<td><span id='nomLstCdC' class='nomDeParametre'></span></td>
					<td>          
						<select name="CDC" id="LstCdC" class="cssLst">
							<option value="1440"></option>
							<option value="1730"></option>
							<option value="3000"></option>
							<option value="1"></option>
							<option value="2"></option>
						</select>
			        </td>
					<td><span id='outputLstCdC'></span></td>
				</tr>
			</table>
		</span>		

		<span id='vueReglagesScene' class='classReglagesVue'>

			<span id='btnCloseVueReglagesScene' class='classBtnClose'></span>
			<table id='ensembleLstLuminosite'>
				<tr>
					<td><span id='nomLstLuminositeScene' class='nomDeParametre'></span></td>
					<td>          
						<select name="Scene" id="lstLuminositeScene" class="cssLst">
				           <option value=-3></option>
				           <option value=3></option>
				           <option value=10></option>
				           <option value=11></option>
				           <option value=13></option>
				           <option value=15></option>
				           <option value=16></option>
			        	</select>
			        </td>
					<td><span id='outputLstLuminosite'></span></td>
				</tr>
			</table>

			<table id='ensembleSldLuminositeScene' class='tableAvecSlider'>
				<tr>
					<td><span id='nomSldLuminositeScene' class='nomDeParametre'></span></td>
					<td><input type='range' id='sldLuminosite' /></td>
					<td><span id='outputSldLuminosite'></span></td>
				</tr>
			</table>
		</span>

	</div>

</div>



<script type="text/javascript">

	if(!typeDeSimulateur){
		alert('typeDeSimulateur= '+typeDeSimulateur)
		var typeDeSimulateur = 'simulateurTriangleExpo';
	}

	if(!adresseDuCode)
	var adresseDuCode='..';


	var lstOrdonneeDesScripts=new Array();

	lstOrdonneeDesScripts[0]=adresseDuCode+'/Packaged/app.min.js';
	
	
	lstOrdonneeDesScripts[1]=adresseDuCode+'/JS/';
	lstOrdonneeDesScripts[2]=adresseDuCode+'/JS/main.js';
	
	//Attendre que le css soit chargÃ© est utile pour ensuite y modifier les adresses des images
	feuilleDeStyle= document.createElement('link');
	feuilleDeStyle.rel='stylesheet';
	feuilleDeStyle.type='text/css';
	feuilleDeStyle.href=adresseDuCode+'/CSS/styleSimulateurAPN.css';

    feuilleDeStyle.onload = function(){		

    	if(typeDeSimulateur !== 'simulateurComplet')
    		document.getElementById('vueSimulateur').style.maxWidth='850px';
    	else
    		document.getElementById('vueSimulateur').style.maxWidth='1165px';	


		chargeScript(0);
	};

	document.body.appendChild(feuilleDeStyle);


	var cptFichiersTelecharges=0;
	var dernierCptSansAttente = lstOrdonneeDesScripts.length - 2;

	function chargeScript(indice) {

	    script = document.createElement('script');
	    script.type = 'text/javascript';
	    script.async = false;

	    script.onload = function(){				
			
	    	cptFichiersTelecharges++;

	    	if(cptFichiersTelecharges>dernierCptSansAttente){	    	
		        if((indice+1)!==lstOrdonneeDesScripts.length)
		        	chargeScript(indice+1);
	        	else{
	        		initPreTelechargement();					
	        	}
	        }
	    };


	    if(indice===(lstOrdonneeDesScripts.length-2))
	    	script.src = lstOrdonneeDesScripts[indice]+typeDeSimulateur+'.js';
	    else
	    	script.src = lstOrdonneeDesScripts[indice];

	    document.body.appendChild(script);	

	    if(indice<(lstOrdonneeDesScripts.length-2))
	    	chargeScript(indice+1);   
	   
	}

</script>
